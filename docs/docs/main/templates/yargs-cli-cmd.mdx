import { TemplateOptions } from '@site/docs/components/templateOptions';
import { Example } from '@site/docs/components/example';

# yargs-cli-cmd

<span className="badge badge--primary margin-left--xs">beta</span>
<span className="badge badge--secondary margin-left--xs">
  templates@v1.0.19
</span>

<br />

<br />

Create a yargs cli command module using
[ESM syntax](https://github.com/yargs/yargs/blob/main/docs/advanced.md#example-command-hierarchy-using-indexmjs).

:::info

Templates creates a new folder when creating a yargs cmd file which often is not
the desired behavior. You can turn this off by taking a look at the
[dont use a new folder](http://localhost:3000/templates/docs/main/templates/yargs-cli-cmd#dont-use-a-new-folder)
example down below

:::

## Usage

```bash title="Usage"
tps yargs-cli-cmd <cmd-name>
```

```txt title="Creates"
| - <cmd-name>
	| - <cmd-name>.js
```

<Example>

```bash
tps yargs-cli-cmd publish
```

Produces:

```txt
| - publish
	| - publish.js
```

```js title="publish.js"
export const command = 'publish';

export const aliases = [];

export const describe = 'This is my publish cli command';

export const builder = {
  flag: {
    alias: '',
    describe: '...',
    type: 'boolean',
  },
};

export const handler = async (argv) => {
  // code ...
};
```

</Example>

## Installation

This templates is a part of Templates library. If you've already installed
Templates, you'll have instant access to this template, and you can disregard
this command.

```bash
npm i -g templates-mo
```

## Options

<TemplateOptions template="yargs-cli-cmd" type="js" />

## Copy

If you like this template, but want to modify a few things use the copy command.
It allows you to duplicate the template into your project and tailor it to your
needs.

```bash
# if your not initialized run
tps init

# copy template
tps copy yargs-cli-cmd
```

## Examples

### Dont use a new folder

If you dont want your yarg cmd file in a new folder you can turn off the new
folder option in your `.tps/tpsrc`

If you havent already initialize your repo:

```bash
tps init
```

```json title=".tps/.tpsrc"
{
  "yargs-cli-cmd": {
    "opts": {
      "newFolder": false
    }
  }
}
```

Now when you run the following it will produce the cmd file with a new folder

```bash
tps yargs-cli-cmd publish
```

Produces:

```txt
| - <cwd>
	| - publish.js
```

### Configure

Tired of typing in your same responses every time? Initialize your repo with
templates and you can configure the template to fit your projects needs without
having to answer every prompt.

If you havent already initialize your repo:

```bash
tps init
```

lets say your project always uses a `tsx` extention for its components. You can
add `tsx` to the `extension` answer.

```json title=".tps/.tpsrc"
{
  "yargs-cli-cmd": {
    "answers": {
      "type": "namedExport"
    }
  }
}
```

Now templates will no longer prompt you for this question and always create your
yargs cli file using named export
