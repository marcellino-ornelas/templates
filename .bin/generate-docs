#!/usr/bin/env node
const Templates = require('../lib/templates');
const CONSTANTS = require('../lib/utilities/constants');
const OPTIONS = require('../cli/options');

const docsFile =
  process.env.NODE_ENV && process.env.NODE_ENV === 'production'
    ? 'docs'
    : 'docs-1';

const tps = new Templates('docs', {
  verbose: true,
  wipe: true
});

console.log(CONSTANTS.MAIN_DIR);

const data = {
  options: {
    create: OPTIONS.CREATE_OPTIONS,
    init: OPTIONS.INIT_OPTIONS,
    global: OPTIONS.GLOBAL_OPTIONS,
    list: OPTIONS.LIST_OPTIONS
  },
  wrapBrackets: text => {
    return `{{${text}}}`;
  }
};

tps
  .render(CONSTANTS.MAIN_DIR, docsFile, data)
  .then(() => {
    console.log('Docs generated');
  })
  .catch(e => {
    console.log('Error generating docs');
    console.log(e);
  });
